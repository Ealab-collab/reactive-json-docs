/* Override Bootstrap classes for turquoise theme */
.btn-primary {
    --bs-btn-color: #fff;
    --bs-btn-bg: #44a08d;
    --bs-btn-border-color: #44a08d;
    --bs-btn-hover-color: #fff;
    --bs-btn-hover-bg: #3d8b85;
    --bs-btn-hover-border-color: #3d8b85;
    --bs-btn-focus-shadow-rgb: 68, 160, 141;
    --bs-btn-active-color: #fff;
    --bs-btn-active-bg: #3d8b85;
    --bs-btn-active-border-color: #3d8b85;
}

.btn-secondary {
    --bs-btn-color: #fff;
    --bs-btn-bg: #3d8b85;
    --bs-btn-border-color: #3d8b85;
    --bs-btn-hover-color: #fff;
    --bs-btn-hover-bg: #2d7a73;
    --bs-btn-hover-border-color: #2d7a73;
    --bs-btn-focus-shadow-rgb: 61, 139, 133;
    --bs-btn-active-color: #fff;
    --bs-btn-active-bg: #2d7a73;
    --bs-btn-active-border-color: #2d7a73;
}

.btn-info {
    --bs-btn-color: #000;
    --bs-btn-bg: #4ecdc4;
    --bs-btn-border-color: #4ecdc4;
    --bs-btn-hover-color: #000;
    --bs-btn-hover-bg: #44a08d;
    --bs-btn-hover-border-color: #44a08d;
    --bs-btn-focus-shadow-rgb: 78, 205, 196;
    --bs-btn-active-color: #000;
    --bs-btn-active-bg: #44a08d;
    --bs-btn-active-border-color: #44a08d;
}

.btn-outline-primary {
    --bs-btn-color: #44a08d;
    --bs-btn-border-color: #44a08d;
    --bs-btn-hover-color: #fff;
    --bs-btn-hover-bg: #44a08d;
    --bs-btn-hover-border-color: #44a08d;
    --bs-btn-focus-shadow-rgb: 68, 160, 141;
    --bs-btn-active-color: #fff;
    --bs-btn-active-bg: #44a08d;
    --bs-btn-active-border-color: #44a08d;
}

.btn-outline-secondary {
    --bs-btn-color: #3d8b85;
    --bs-btn-border-color: #3d8b85;
    --bs-btn-hover-color: #fff;
    --bs-btn-hover-bg: #3d8b85;
    --bs-btn-hover-border-color: #3d8b85;
    --bs-btn-focus-shadow-rgb: 61, 139, 133;
    --bs-btn-active-color: #fff;
    --bs-btn-active-bg: #3d8b85;
    --bs-btn-active-border-color: #3d8b85;
}

.btn-outline-info {
    --bs-btn-color: #4ecdc4;
    --bs-btn-border-color: #4ecdc4;
    --bs-btn-hover-color: #000;
    --bs-btn-hover-bg: #4ecdc4;
    --bs-btn-hover-border-color: #4ecdc4;
    --bs-btn-focus-shadow-rgb: 78, 205, 196;
    --bs-btn-active-color: #000;
    --bs-btn-active-bg: #4ecdc4;
    --bs-btn-active-border-color: #4ecdc4;
}

/* Link colors */
a {
    color: #2d7a73;
}

a:hover {
    color: #44a08d;
}

/* Text colors */
.text-primary {
    color: #44a08d;
}

.text-secondary {
    color: #3d8b85;
}

.text-info {
    color: #4ecdc4;
}

/* Backgrounds */
.bg-primary {
    background-color: #44a08d;
}

.bg-secondary {
    background-color: #3d8b85;
}

.bg-info {
    background-color: #4ecdc4;
}

/* Borders */
.border-primary {
    border-color: #44a08d;
}

.border-secondary {
    border-color: #3d8b85;
}

.border-info {
    border-color: #4ecdc4;
}

/* Hero section */
.hero-section {
    background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 50%, #3d8b85 100%);
}

/* DARK MODE SUPPORT - System and Bootstrap 5.3 compatible */
@media (prefers-color-scheme: dark) {
    /* Color redefinition for dark mode */
    :root {
        /* Backgrounds adapted for dark mode */
        --bs-body-bg: #1a1a1a;
        --bs-body-color: #e9ecef;

        /* Light becomes dark in dark mode */
        --bs-light: #2d3338;
        --bs-light-rgb: 45, 51, 56;

        /* Dark becomes lighter in dark mode */
        --bs-dark: #f8f9fa;
        --bs-dark-rgb: 248, 249, 250;

        /* Adapted text colors */
        --bs-emphasis-color: #fff;
        --bs-secondary-color: #adb5bd;
        --bs-tertiary-color: #6c757d;

        /* Borders and separators */
        --bs-border-color: #495057;
        --bs-border-color-translucent: rgba(255, 255, 255, 0.15);

        /* Maintain our turquoise palette but adapt it */
        --bs-primary: #4ecdc4; /* Lighter in dark mode */
        --bs-primary-bg-subtle: #1a3330; /* Dark version */
        --bs-primary-border-subtle: #2d5a54; /* Dark border */
        --bs-primary-text-emphasis: #66e0d7; /* Brighter text */

        --bs-secondary: #44a08d; /* Adjusted for dark mode */
        --bs-secondary-bg-subtle: #1a2f2c; /* Dark version */
        --bs-secondary-border-subtle: #2d4d47; /* Dark border */
        --bs-secondary-text-emphasis: #5fb3a0; /* Brighter text */

        --bs-info: #66e0d7; /* Brighter in dark mode */
        --bs-info-bg-subtle: #1a3330; /* Dark version */
        --bs-info-border-subtle: #2d5a54; /* Dark border */
        --bs-info-text-emphasis: #80e6dd; /* Brighter text */

        /* Links adapted for dark mode */
        --bs-link-color: #5fb3a0; /* Lighter for dark mode */
        --bs-link-hover-color: #66e0d7; /* Brighter hover */
        --bs-nav-link-color: #adb5bd; /* Light navigation links */
        --bs-nav-link-hover-color: #66e0d7; /* Turquoise navigation hover */
        --bs-nav-link-disabled-color: #6c757d; /* Visible disabled links */
    }

    /* Sections with bg-light become dark */
    .bg-light {
        background-color: var(--bs-light) !important;
        color: var(--bs-body-color) !important;
    }

    /* Text on dark background adapted */
    .bg-light .text-muted {
        color: var(--bs-secondary-color) !important;
    }

    /* Cards and containers */
    .bg-light .card {
        background-color: #2d3338;
        border-color: var(--bs-border-color);
    }

    /* Hero section keeps gradient but adapted */
    .hero-section {
        background: linear-gradient(135deg, #2d5a54 0%, #1a3330 50%, #1a2f2c 100%) !important;
    }

    /* More contrasted terminal/code blocks */
    .bg-dark {
        background-color: #0d1117 !important;
        border-color: #30363d !important;
    }

    /* FIX: Code in hero - text stays light on dark background */
    .bg-dark .text-light,
    .bg-dark pre.text-light {
        color: #f8f9fa !important; /* Force text to stay light */
    }

    /* FIX: Elements with bg-dark AND text-light on the same element */
    pre.bg-dark.text-light,
    .bg-dark.text-light {
        color: #f8f9fa !important; /* Force text to stay light */
        background-color: #0d1117 !important; /* Ensure very dark background */
    }

    /* File title in terminal */
    .bg-dark .text-muted {
        color: #8b949e !important; /* GitHub gray for file title */
    }
}

/* Automatic detection and application of Bootstrap theme */
@media (prefers-color-scheme: dark) {
    html {
        color-scheme: dark;
    }

    html[data-bs-theme="dark"],
    [data-bs-theme="dark"] {
        color-scheme: dark;
    }
}

/* CSS variables for custom theme */
:root {
    /* Main palette based on turquoise gradient */
    --bs-primary: #44a08d; /* Turquoise-green (main color) */
    --bs-primary-rgb: 68, 160, 141;
    --bs-primary-bg-subtle: #d4f0ec; /* Subtle primary background */
    --bs-primary-border-subtle: #a8ddd5; /* Subtle primary border */
    --bs-primary-text-emphasis: #2b6b5a; /* Primary text emphasis */

    --bs-secondary: #3d8b85; /* Deep teal (from gradient) */
    --bs-secondary-rgb: 61, 139, 133;
    --bs-secondary-bg-subtle: #d0e6e4; /* Subtle secondary background */
    --bs-secondary-border-subtle: #9cccc7; /* Subtle secondary border */
    --bs-secondary-text-emphasis: #275852; /* Texte emphasis secondary */

    --bs-info: #4ecdc4; /* Turquoise clair (du gradient) */
    --bs-info-rgb: 78, 205, 196;
    --bs-info-bg-subtle: #d7f3f1; /* Arrière-plan subtil info */
    --bs-info-border-subtle: #aeeae6; /* Bordure subtile info */
    --bs-info-text-emphasis: #328a82; /* Texte emphasis info */

    /* Couleurs de liens harmonieuses */
    --bs-link-color: #2d7a73; /* Turquoise foncé pour lisibilité */
    --bs-link-hover-color: #44a08d; /* Primary au hover */

    /* Couleurs d'état complètes (Bootstrap 5.3) */
    --bs-success: #198754; /* Vert Bootstrap (inchangé) */
    --bs-success-rgb: 25, 135, 84;
    --bs-success-bg-subtle: #d1e7dd;
    --bs-success-border-subtle: #a3cfbb;
    --bs-success-text-emphasis: #0f5132;

    --bs-warning: #fd7e14; /* Orange plus doux que Bootstrap */
    --bs-warning-rgb: 253, 126, 20;
    --bs-warning-bg-subtle: #fff3cd;
    --bs-warning-border-subtle: #ffda6a;
    --bs-warning-text-emphasis: #984c0c;

    --bs-danger: #dc3545; /* Rouge Bootstrap (inchangé) */
    --bs-danger-rgb: 220, 53, 69;
    --bs-danger-bg-subtle: #f8d7da;
    --bs-danger-border-subtle: #f1aeb5;
    --bs-danger-text-emphasis: #842029;
}

/* Styles for general accordions */
.accordion-button {
    color: var(--bs-body-color);
}

.accordion-button:not(.collapsed) {
    /* Garde la même couleur de texte que l'état plié */
    color: var(--bs-body-color);
    background-color: var(--bs-primary-bg-subtle);
    border-color: var(--bs-primary-border-subtle);
}

/* Amélioration des flèches d'accordéon pour le mode sombre */
@media (prefers-color-scheme: dark) {
    .accordion-button::after {
        /* Flèche plus claire en mode sombre */
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23adb5bd'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e") !important;
    }

    .accordion-button:not(.collapsed)::after {
        /* Garde la même couleur de flèche que l'état plié */
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23adb5bd'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e") !important;
    }

    .accordion-button:hover::after {
        /* Couleur turquoise au hover */
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%2366e0d7'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e") !important;
    }

    /* Amélioration des arrière-plans d'accordéon en mode sombre */
    .accordion-item {
        background-color: var(--bs-light);
        border-color: var(--bs-border-color);
    }

    .accordion-button {
        background-color: var(--bs-light);
        color: var(--bs-body-color);
    }

    .accordion-button:not(.collapsed) {
        background-color: var(--bs-primary-bg-subtle);
        /* Garde la même couleur de texte que l'état plié */
        color: var(--bs-light);
    }

    .accordion-body {
        background-color: var(--bs-light);
        color: var(--bs-body-color);
    }
}

/* Règle pour les paragraphes dans les listes suivis d'une sous-liste (composant Markdown) */
li > p:has(+ ul) {
    margin-bottom: 0;
}
